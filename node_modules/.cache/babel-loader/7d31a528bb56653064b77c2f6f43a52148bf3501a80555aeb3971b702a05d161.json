{"ast":null,"code":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function (mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\")\n    // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));else if (typeof define == \"function\" && define.amd)\n    // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);else\n    // Plain browser env\n    mod(CodeMirror);\n})(function (CodeMirror) {\n  \"use strict\";\n\n  // default search panel location\n  CodeMirror.defineOption(\"search\", {\n    bottom: false\n  });\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\") query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");else if (!query.global) query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n    return {\n      token: function (stream) {\n        query.lastIndex = stream.pos;\n        var match = query.exec(stream.string);\n        if (match && match.index == stream.pos) {\n          stream.pos += match[0].length || 1;\n          return \"searching\";\n        } else if (match) {\n          stream.pos = match.index;\n        } else {\n          stream.skipToEnd();\n        }\n      }\n    };\n  }\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {\n      caseFold: queryCaseInsensitive(query),\n      multiline: true\n    });\n  }\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function () {\n        clearSearch(cm);\n      },\n      onKeyDown: onKeyDown,\n      bottom: cm.options.search.bottom\n    });\n  }\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {\n      value: deflt,\n      selectValueOnOpen: true,\n      bottom: cm.options.search.bottom\n    });else f(prompt(shortText, deflt));\n  }\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);else if (confirm(shortText)) fs[0]();\n  }\n  function parseString(string) {\n    return string.replace(/\\\\([nrt\\\\])/g, function (match, ch) {\n      if (ch == \"n\") return \"\\n\";\n      if (ch == \"r\") return \"\\r\";\n      if (ch == \"t\") return \"\\t\";\n      if (ch == \"\\\\\") return \"\\\\\";\n      return match;\n    });\n  }\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try {\n        query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\");\n      } catch (e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query);\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\")) query = /x^/;\n    return query;\n  }\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) {\n        state.annotate.clear();\n        state.annotate = null;\n      }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null;\n    if (persistent && cm.openDialog) {\n      var hiding = null;\n      var searchNext = function (query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1;\n        findNext(cm, event.shiftKey, function (_, to) {\n          var dialog;\n          if (to.line < 3 && document.querySelector && (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) && dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top) (hiding = dialog).style.opacity = .4;\n        });\n      };\n      persistentDialog(cm, getQueryDialog(cm), q, searchNext, function (event, query) {\n        var keyName = CodeMirror.keyName(event);\n        var extra = cm.getOption('extraKeys'),\n          cmd = extra && extra[keyName] || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName];\n        if (cmd == \"findNext\" || cmd == \"findPrev\" || cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, getQueryDialog(cm), \"Search for:\", q, function (query) {\n        if (query && !state.query) cm.operation(function () {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n  function findNext(cm, rev, callback) {\n    cm.operation(function () {\n      var state = getSearchState(cm);\n      var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n      if (!cursor.find(rev)) {\n        cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n        if (!cursor.find(rev)) return;\n      }\n      cm.setSelection(cursor.from(), cursor.to());\n      cm.scrollIntoView({\n        from: cursor.from(),\n        to: cursor.to()\n      }, 20);\n      state.posFrom = cursor.from();\n      state.posTo = cursor.to();\n      if (callback) callback(cursor.from(), cursor.to());\n    });\n  }\n  function clearSearch(cm) {\n    cm.operation(function () {\n      var state = getSearchState(cm);\n      state.lastQuery = state.query;\n      if (!state.query) return;\n      state.query = state.queryText = null;\n      cm.removeOverlay(state.overlay);\n      if (state.annotate) {\n        state.annotate.clear();\n        state.annotate = null;\n      }\n    });\n  }\n  function el(tag, attrs) {\n    var element = tag ? document.createElement(tag) : document.createDocumentFragment();\n    for (var key in attrs) {\n      element[key] = attrs[key];\n    }\n    for (var i = 2; i < arguments.length; i++) {\n      var child = arguments[i];\n      element.appendChild(typeof child == \"string\" ? document.createTextNode(child) : child);\n    }\n    return element;\n  }\n  function getQueryDialog(cm) {\n    var label = el(\"label\", {\n      className: \"CodeMirror-search-label\"\n    }, cm.phrase(\"Search:\"), el(\"input\", {\n      type: \"text\",\n      \"style\": \"width: 10em\",\n      className: \"CodeMirror-search-field\",\n      id: \"CodeMirror-search-field\"\n    }));\n    label.setAttribute(\"for\", \"CodeMirror-search-field\");\n    return el(\"\", null, label, \" \", el(\"span\", {\n      style: \"color: #666\",\n      className: \"CodeMirror-search-hint\"\n    }, cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplaceQueryDialog(cm) {\n    return el(\"\", null, \" \", el(\"input\", {\n      type: \"text\",\n      \"style\": \"width: 10em\",\n      className: \"CodeMirror-search-field\"\n    }), \" \", el(\"span\", {\n      style: \"color: #666\",\n      className: \"CodeMirror-search-hint\"\n    }, cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplacementQueryDialog(cm) {\n    return el(\"\", null, el(\"span\", {\n      className: \"CodeMirror-search-label\"\n    }, cm.phrase(\"With:\")), \" \", el(\"input\", {\n      type: \"text\",\n      \"style\": \"width: 10em\",\n      className: \"CodeMirror-search-field\"\n    }));\n  }\n  function getDoReplaceConfirm(cm) {\n    return el(\"\", null, el(\"span\", {\n      className: \"CodeMirror-search-label\"\n    }, cm.phrase(\"Replace?\")), \" \", el(\"button\", {}, cm.phrase(\"Yes\")), \" \", el(\"button\", {}, cm.phrase(\"No\")), \" \", el(\"button\", {}, cm.phrase(\"All\")), \" \", el(\"button\", {}, cm.phrase(\"Stop\")));\n  }\n  function replaceAll(cm, query, text) {\n    cm.operation(function () {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function (_, i) {\n            return match[i];\n          }));\n        } else cursor.replace(text);\n      }\n    });\n  }\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = all ? cm.phrase(\"Replace all:\") : cm.phrase(\"Replace:\");\n    var fragment = el(\"\", null, el(\"span\", {\n      className: \"CodeMirror-search-label\"\n    }, dialogText), getReplaceQueryDialog(cm));\n    dialog(cm, fragment, dialogText, query, function (query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, getReplacementQueryDialog(cm), cm.phrase(\"Replace with:\"), \"\", function (text) {\n        text = parseString(text);\n        if (all) {\n          replaceAll(cm, query, text);\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function () {\n            var start = cursor.from(),\n              match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) || start && cursor.from().line == start.line && cursor.from().ch == start.ch) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({\n              from: cursor.from(),\n              to: cursor.to()\n            });\n            confirmDialog(cm, getDoReplaceConfirm(cm), cm.phrase(\"Replace?\"), [function () {\n              doReplace(match);\n            }, advance, function () {\n              replaceAll(cm, query, text);\n            }]);\n          };\n          var doReplace = function (match) {\n            cursor.replace(typeof query == \"string\" ? text : text.replace(/\\$(\\d)/g, function (_, i) {\n              return match[i];\n            }));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n  CodeMirror.commands.find = function (cm) {\n    clearSearch(cm);\n    doSearch(cm);\n  };\n  CodeMirror.commands.findPersistent = function (cm) {\n    clearSearch(cm);\n    doSearch(cm, false, true);\n  };\n  CodeMirror.commands.findPersistentNext = function (cm) {\n    doSearch(cm, false, true, true);\n  };\n  CodeMirror.commands.findPersistentPrev = function (cm) {\n    doSearch(cm, true, true, true);\n  };\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function (cm) {\n    doSearch(cm, true);\n  };\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function (cm) {\n    replace(cm, true);\n  };\n});","map":{"version":3,"names":["mod","exports","module","require","define","amd","CodeMirror","defineOption","bottom","searchOverlay","query","caseInsensitive","RegExp","replace","global","source","ignoreCase","token","stream","lastIndex","pos","match","exec","string","index","length","skipToEnd","SearchState","posFrom","posTo","lastQuery","overlay","getSearchState","cm","state","search","queryCaseInsensitive","toLowerCase","getSearchCursor","caseFold","multiline","persistentDialog","text","deflt","onEnter","onKeyDown","openDialog","value","selectValueOnOpen","closeOnEnter","onClose","clearSearch","options","dialog","shortText","f","prompt","confirmDialog","fs","openConfirm","confirm","parseString","ch","parseQuery","isRE","indexOf","e","test","startSearch","queryText","removeOverlay","addOverlay","showMatchesOnScrollbar","annotate","clear","doSearch","rev","persistent","immediate","findNext","q","getSelection","hiding","searchNext","event","e_stop","getCursor","style","opacity","shiftKey","_","to","line","document","querySelector","display","wrapper","getBoundingClientRect","cursorCoords","top","getQueryDialog","keyName","extra","getOption","cmd","keyMap","execCommand","operation","callback","cursor","find","Pos","lastLine","firstLine","setSelection","from","scrollIntoView","el","tag","attrs","element","createElement","createDocumentFragment","key","i","arguments","child","appendChild","createTextNode","label","className","phrase","type","id","setAttribute","getReplaceQueryDialog","getReplacementQueryDialog","getDoReplaceConfirm","replaceAll","getRange","all","dialogText","fragment","advance","start","doReplace","commands","findPersistent","findPersistentNext","findPersistentPrev","findPrev"],"sources":["D:/project/CollIDE/node_modules/codemirror/addon/search/search.js"],"sourcesContent":["// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n// Define search commands. Depends on dialog.js or another\n// implementation of the openDialog method.\n\n// Replace works a little oddly -- it will do the replace on the next\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\n// replace by making sure the match is no longer selected when hitting\n// Ctrl-G.\n\n(function(mod) {\n  if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\n    mod(require(\"../../lib/codemirror\"), require(\"./searchcursor\"), require(\"../dialog/dialog\"));\n  else if (typeof define == \"function\" && define.amd) // AMD\n    define([\"../../lib/codemirror\", \"./searchcursor\", \"../dialog/dialog\"], mod);\n  else // Plain browser env\n    mod(CodeMirror);\n})(function(CodeMirror) {\n  \"use strict\";\n\n  // default search panel location\n  CodeMirror.defineOption(\"search\", {bottom: false});\n\n  function searchOverlay(query, caseInsensitive) {\n    if (typeof query == \"string\")\n      query = new RegExp(query.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\"), caseInsensitive ? \"gi\" : \"g\");\n    else if (!query.global)\n      query = new RegExp(query.source, query.ignoreCase ? \"gi\" : \"g\");\n\n    return {token: function(stream) {\n      query.lastIndex = stream.pos;\n      var match = query.exec(stream.string);\n      if (match && match.index == stream.pos) {\n        stream.pos += match[0].length || 1;\n        return \"searching\";\n      } else if (match) {\n        stream.pos = match.index;\n      } else {\n        stream.skipToEnd();\n      }\n    }};\n  }\n\n  function SearchState() {\n    this.posFrom = this.posTo = this.lastQuery = this.query = null;\n    this.overlay = null;\n  }\n\n  function getSearchState(cm) {\n    return cm.state.search || (cm.state.search = new SearchState());\n  }\n\n  function queryCaseInsensitive(query) {\n    return typeof query == \"string\" && query == query.toLowerCase();\n  }\n\n  function getSearchCursor(cm, query, pos) {\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\n    return cm.getSearchCursor(query, pos, {caseFold: queryCaseInsensitive(query), multiline: true});\n  }\n\n  function persistentDialog(cm, text, deflt, onEnter, onKeyDown) {\n    cm.openDialog(text, onEnter, {\n      value: deflt,\n      selectValueOnOpen: true,\n      closeOnEnter: false,\n      onClose: function() { clearSearch(cm); },\n      onKeyDown: onKeyDown,\n      bottom: cm.options.search.bottom\n    });\n  }\n\n  function dialog(cm, text, shortText, deflt, f) {\n    if (cm.openDialog) cm.openDialog(text, f, {value: deflt, selectValueOnOpen: true, bottom: cm.options.search.bottom});\n    else f(prompt(shortText, deflt));\n  }\n\n  function confirmDialog(cm, text, shortText, fs) {\n    if (cm.openConfirm) cm.openConfirm(text, fs);\n    else if (confirm(shortText)) fs[0]();\n  }\n\n  function parseString(string) {\n    return string.replace(/\\\\([nrt\\\\])/g, function(match, ch) {\n      if (ch == \"n\") return \"\\n\"\n      if (ch == \"r\") return \"\\r\"\n      if (ch == \"t\") return \"\\t\"\n      if (ch == \"\\\\\") return \"\\\\\"\n      return match\n    })\n  }\n\n  function parseQuery(query) {\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\n    if (isRE) {\n      try { query = new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\"); }\n      catch(e) {} // Not a regular expression after all, do a string search\n    } else {\n      query = parseString(query)\n    }\n    if (typeof query == \"string\" ? query == \"\" : query.test(\"\"))\n      query = /x^/;\n    return query;\n  }\n\n  function startSearch(cm, state, query) {\n    state.queryText = query;\n    state.query = parseQuery(query);\n    cm.removeOverlay(state.overlay, queryCaseInsensitive(state.query));\n    state.overlay = searchOverlay(state.query, queryCaseInsensitive(state.query));\n    cm.addOverlay(state.overlay);\n    if (cm.showMatchesOnScrollbar) {\n      if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n      state.annotate = cm.showMatchesOnScrollbar(state.query, queryCaseInsensitive(state.query));\n    }\n  }\n\n  function doSearch(cm, rev, persistent, immediate) {\n    var state = getSearchState(cm);\n    if (state.query) return findNext(cm, rev);\n    var q = cm.getSelection() || state.lastQuery;\n    if (q instanceof RegExp && q.source == \"x^\") q = null\n    if (persistent && cm.openDialog) {\n      var hiding = null\n      var searchNext = function(query, event) {\n        CodeMirror.e_stop(event);\n        if (!query) return;\n        if (query != state.queryText) {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n        }\n        if (hiding) hiding.style.opacity = 1\n        findNext(cm, event.shiftKey, function(_, to) {\n          var dialog\n          if (to.line < 3 && document.querySelector &&\n              (dialog = cm.display.wrapper.querySelector(\".CodeMirror-dialog\")) &&\n              dialog.getBoundingClientRect().bottom - 4 > cm.cursorCoords(to, \"window\").top)\n            (hiding = dialog).style.opacity = .4\n        })\n      };\n      persistentDialog(cm, getQueryDialog(cm), q, searchNext, function(event, query) {\n        var keyName = CodeMirror.keyName(event)\n        var extra = cm.getOption('extraKeys'), cmd = (extra && extra[keyName]) || CodeMirror.keyMap[cm.getOption(\"keyMap\")][keyName]\n        if (cmd == \"findNext\" || cmd == \"findPrev\" ||\n          cmd == \"findPersistentNext\" || cmd == \"findPersistentPrev\") {\n          CodeMirror.e_stop(event);\n          startSearch(cm, getSearchState(cm), query);\n          cm.execCommand(cmd);\n        } else if (cmd == \"find\" || cmd == \"findPersistent\") {\n          CodeMirror.e_stop(event);\n          searchNext(query, event);\n        }\n      });\n      if (immediate && q) {\n        startSearch(cm, state, q);\n        findNext(cm, rev);\n      }\n    } else {\n      dialog(cm, getQueryDialog(cm), \"Search for:\", q, function(query) {\n        if (query && !state.query) cm.operation(function() {\n          startSearch(cm, state, query);\n          state.posFrom = state.posTo = cm.getCursor();\n          findNext(cm, rev);\n        });\n      });\n    }\n  }\n\n  function findNext(cm, rev, callback) {cm.operation(function() {\n    var state = getSearchState(cm);\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\n    if (!cursor.find(rev)) {\n      cursor = getSearchCursor(cm, state.query, rev ? CodeMirror.Pos(cm.lastLine()) : CodeMirror.Pos(cm.firstLine(), 0));\n      if (!cursor.find(rev)) return;\n    }\n    cm.setSelection(cursor.from(), cursor.to());\n    cm.scrollIntoView({from: cursor.from(), to: cursor.to()}, 20);\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\n    if (callback) callback(cursor.from(), cursor.to())\n  });}\n\n  function clearSearch(cm) {cm.operation(function() {\n    var state = getSearchState(cm);\n    state.lastQuery = state.query;\n    if (!state.query) return;\n    state.query = state.queryText = null;\n    cm.removeOverlay(state.overlay);\n    if (state.annotate) { state.annotate.clear(); state.annotate = null; }\n  });}\n\n  function el(tag, attrs) {\n    var element = tag ? document.createElement(tag) : document.createDocumentFragment();\n    for (var key in attrs) {\n      element[key] = attrs[key];\n    }\n    for (var i = 2; i < arguments.length; i++) {\n      var child = arguments[i]\n      element.appendChild(typeof child == \"string\" ? document.createTextNode(child) : child);\n    }\n    return element;\n  }\n\n  function getQueryDialog(cm)  {\n    var label = el(\"label\", {className: \"CodeMirror-search-label\"},\n                   cm.phrase(\"Search:\"),\n                   el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\",\n                                id: \"CodeMirror-search-field\"}));\n    label.setAttribute(\"for\",\"CodeMirror-search-field\");\n    return el(\"\", null, label, \" \",\n              el(\"span\", {style: \"color: #666\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplaceQueryDialog(cm) {\n    return el(\"\", null, \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}), \" \",\n              el(\"span\", {style: \"color: #666\", className: \"CodeMirror-search-hint\"},\n                 cm.phrase(\"(Use /re/ syntax for regexp search)\")));\n  }\n  function getReplacementQueryDialog(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"With:\")), \" \",\n              el(\"input\", {type: \"text\", \"style\": \"width: 10em\", className: \"CodeMirror-search-field\"}));\n  }\n  function getDoReplaceConfirm(cm) {\n    return el(\"\", null,\n              el(\"span\", {className: \"CodeMirror-search-label\"}, cm.phrase(\"Replace?\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Yes\")), \" \",\n              el(\"button\", {}, cm.phrase(\"No\")), \" \",\n              el(\"button\", {}, cm.phrase(\"All\")), \" \",\n              el(\"button\", {}, cm.phrase(\"Stop\")));\n  }\n\n  function replaceAll(cm, query, text) {\n    cm.operation(function() {\n      for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\n        if (typeof query != \"string\") {\n          var match = cm.getRange(cursor.from(), cursor.to()).match(query);\n          cursor.replace(text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n        } else cursor.replace(text);\n      }\n    });\n  }\n\n  function replace(cm, all) {\n    if (cm.getOption(\"readOnly\")) return;\n    var query = cm.getSelection() || getSearchState(cm).lastQuery;\n    var dialogText = all ? cm.phrase(\"Replace all:\") : cm.phrase(\"Replace:\")\n    var fragment = el(\"\", null,\n                      el(\"span\", {className: \"CodeMirror-search-label\"}, dialogText),\n                      getReplaceQueryDialog(cm))\n    dialog(cm, fragment, dialogText, query, function(query) {\n      if (!query) return;\n      query = parseQuery(query);\n      dialog(cm, getReplacementQueryDialog(cm), cm.phrase(\"Replace with:\"), \"\", function(text) {\n        text = parseString(text)\n        if (all) {\n          replaceAll(cm, query, text)\n        } else {\n          clearSearch(cm);\n          var cursor = getSearchCursor(cm, query, cm.getCursor(\"from\"));\n          var advance = function() {\n            var start = cursor.from(), match;\n            if (!(match = cursor.findNext())) {\n              cursor = getSearchCursor(cm, query);\n              if (!(match = cursor.findNext()) ||\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\n            }\n            cm.setSelection(cursor.from(), cursor.to());\n            cm.scrollIntoView({from: cursor.from(), to: cursor.to()});\n            confirmDialog(cm, getDoReplaceConfirm(cm), cm.phrase(\"Replace?\"),\n                          [function() {doReplace(match);}, advance,\n                           function() {replaceAll(cm, query, text)}]);\n          };\n          var doReplace = function(match) {\n            cursor.replace(typeof query == \"string\" ? text :\n                           text.replace(/\\$(\\d)/g, function(_, i) {return match[i];}));\n            advance();\n          };\n          advance();\n        }\n      });\n    });\n  }\n\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\n  CodeMirror.commands.findPersistent = function(cm) {clearSearch(cm); doSearch(cm, false, true);};\n  CodeMirror.commands.findPersistentNext = function(cm) {doSearch(cm, false, true, true);};\n  CodeMirror.commands.findPersistentPrev = function(cm) {doSearch(cm, true, true, true);};\n  CodeMirror.commands.findNext = doSearch;\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\n  CodeMirror.commands.clearSearch = clearSearch;\n  CodeMirror.commands.replace = replace;\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}