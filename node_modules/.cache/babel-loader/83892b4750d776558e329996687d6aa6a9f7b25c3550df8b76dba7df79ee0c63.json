{"ast":null,"code":"import { atom } from \"recoil\";\nconst localStorageEffect = key => ({\n  setSelf,\n  onSet\n}) => {\n  const savedValue = localStorage.getItem(key);\n  if (savedValue != null) {\n    setSelf(JSON.parse(savedValue));\n  }\n  onSet(newValue => {\n    //   if (newValue instanceof DefaultValue) {\n    //     localStorage.removeItem(key);\n    //   } else {\n    localStorage.setItem(key, JSON.stringify(newValue));\n    //   }\n  });\n};\nexport const language = atom({\n  key: \"language\",\n  default: \"javascript\",\n  effects_UNSTABLE: [localStorageEffect('language')]\n});\nexport const cmtheme = atom({\n  key: \"cmtheme\",\n  default: \"monokai\",\n  effects_UNSTABLE: [localStorageEffect('cmtheme')]\n});","map":{"version":3,"names":["atom","localStorageEffect","key","setSelf","onSet","savedValue","localStorage","getItem","JSON","parse","newValue","setItem","stringify","language","default","effects_UNSTABLE","cmtheme"],"sources":["D:/project/CollIDE/src/atoms.js"],"sourcesContent":["import { atom } from \"recoil\";\r\n\r\nconst localStorageEffect = key => ({ setSelf, onSet }) => {\r\n    const savedValue = localStorage.getItem(key)\r\n    if (savedValue != null) {\r\n        setSelf(JSON.parse(savedValue));\r\n    }\r\n\r\n    onSet(newValue => {\r\n        //   if (newValue instanceof DefaultValue) {\r\n        //     localStorage.removeItem(key);\r\n        //   } else {\r\n        localStorage.setItem(key, JSON.stringify(newValue));\r\n        //   }\r\n    });\r\n};\r\n\r\nexport const language = atom({\r\n    key: \"language\",\r\n    default: \"javascript\",\r\n    effects_UNSTABLE: [\r\n        localStorageEffect('language'),\r\n    ]\r\n});\r\n\r\nexport const cmtheme = atom({\r\n    key: \"cmtheme\",\r\n    default: \"monokai\",\r\n    effects_UNSTABLE: [\r\n        localStorageEffect('cmtheme'),\r\n    ]\r\n});\r\n"],"mappings":"AAAA,SAASA,IAAI,QAAQ,QAAQ;AAE7B,MAAMC,kBAAkB,GAAGC,GAAG,IAAI,CAAC;EAAEC,OAAO;EAAEC;AAAM,CAAC,KAAK;EACtD,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAACL,GAAG,CAAC;EAC5C,IAAIG,UAAU,IAAI,IAAI,EAAE;IACpBF,OAAO,CAACK,IAAI,CAACC,KAAK,CAACJ,UAAU,CAAC,CAAC;EACnC;EAEAD,KAAK,CAACM,QAAQ,IAAI;IACd;IACA;IACA;IACAJ,YAAY,CAACK,OAAO,CAACT,GAAG,EAAEM,IAAI,CAACI,SAAS,CAACF,QAAQ,CAAC,CAAC;IACnD;EACJ,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMG,QAAQ,GAAGb,IAAI,CAAC;EACzBE,GAAG,EAAE,UAAU;EACfY,OAAO,EAAE,YAAY;EACrBC,gBAAgB,EAAE,CACdd,kBAAkB,CAAC,UAAU,CAAC;AAEtC,CAAC,CAAC;AAEF,OAAO,MAAMe,OAAO,GAAGhB,IAAI,CAAC;EACxBE,GAAG,EAAE,SAAS;EACdY,OAAO,EAAE,SAAS;EAClBC,gBAAgB,EAAE,CACdd,kBAAkB,CAAC,SAAS,CAAC;AAErC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}